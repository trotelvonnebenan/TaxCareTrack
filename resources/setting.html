<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TaxCareTracker</title>


    <link href="lib/bootstrap/bootstrap-5.3.0-alpha3-dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="lib/fontawesome/css/all.min.css" rel="stylesheet" />
    <script src="lib/bootstrap/bootstrap-5.3.0-alpha3-dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/jquery/dist/jquery.min.js"></script>
    <link href="style.css" rel="stylesheet" />

    <link href="lib/select2/dist/css/select2.min.css" rel="stylesheet" />
    <link href="lib/select2/select2-bootstrap-5-theme.min.css" rel="stylesheet" />
    <scrpt src="lib/select2/dist/js/select2.min.js"></scrpt>
    <script src="lib/moment/moment.min.js"></script>

</head>

<body data-bs-theme="dark">
    <!-- Modal -->
    <div class="modal modal-sm fade" id="loadingModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="text-end mx-2 my-1">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <div class="loading fs-5 py-2">
                        <span class="spinner-border spinner-border" role="status" aria-hidden="true"></span>
                    </div>
                    Loading...
                </div>
            </div>
        </div>
    </div>



    <div class="container">
        <div class="header">
            <div class="header-actions">
                <a href="index.html" class="btn-icon"><i class="fas fa-arrow-left"></i> Back</a>
            </div>
            <div class="header-actions">
                <a href="#" class="btn-icon" onclick="reloadCache();" title="Reload Cache"><i
                        class="fas fa-sync"></i></a>
                <a href="#" class="d-none btn-icon updateBtn" onclick="checkUpdate(1)" title="Update"><i
                        class="fas fa-arrow-up"></i><i class="update-dot text-danger fas fa-circle"></i></a>
            </div>
        </div>

        <div class="detail-card"
            style="background-color: var(--bg-card); padding: 20px; border-radius: 4px; margin-top: 20px;">
            <h5 class="mb-4" style="color: var(--text-primary);">Settings</h5>

            <div class="form-group mb-3">
                <label class="text-secondary mb-1">Host</label>
                <input type="text" class="form-control" id="host" placeholder="https://kimai.example.com"
                    style="background: var(--bg-darker); border: 1px solid var(--border-color); color: var(--text-primary);">
            </div>

            <div class="form-group mb-3">
                <label class="text-secondary mb-1">Username</label>
                <input type="text" class="form-control" id="username" placeholder="Username"
                    style="background: var(--bg-darker); border: 1px solid var(--border-color); color: var(--text-primary);">
            </div>

            <div class="form-group mb-4">
                <label class="text-secondary mb-1">API Token</label>
                <input type="password" class="form-control" id="token" placeholder="API Token"
                    style="background: var(--bg-darker); border: 1px solid var(--border-color); color: var(--text-primary);">
            </div>

            <div class="form-check mb-2">
                <input class="form-check-input" type="checkbox" id="use_only_token" value="1"
                    style="background-color: var(--bg-darker); border-color: var(--border-color);">
                <label class="form-check-label text-secondary" for="use_only_token">
                    Use only token (Kimai > v.2.20)
                </label>
            </div>

            <div class="form-check mb-2">
                <input class="form-check-input" type="checkbox" id="min_tray" value="1"
                    style="background-color: var(--bg-darker); border-color: var(--border-color);">
                <label class="form-check-label text-secondary" for="min_tray">
                    Minimize to tray on close
                </label>
            </div>

            <div class="form-check mb-4">
                <input class="form-check-input" type="checkbox" id="always_top" value="1"
                    style="background-color: var(--bg-darker); border-color: var(--border-color);">
                <label class="form-check-label text-secondary" for="always_top">
                    Window always on top
                </label>
            </div>

            <div class="form-check mb-2">
                <input class="form-check-input" type="checkbox" id="idle_detection" value="1"
                    style="background-color: var(--bg-darker); border-color: var(--border-color);">
                <label class="form-check-label text-secondary" for="idle_detection">
                    Enable Idle Detection
                </label>
            </div>

            <div class="form-group mb-4" id="idle_timeout_group">
                <label class="text-secondary mb-1">Idle Timeout (minutes)</label>
                <input type="number" class="form-control" id="idle_timeout" value="5" min="1"
                    style="background: var(--bg-darker); border: 1px solid var(--border-color); color: var(--text-primary);">
            </div>

            <div class="form-group mb-4">
                <label class="text-secondary mb-1">Daily Goal (hours)</label>
                <input type="number" class="form-control" id="daily_goal" value="8" min="1" step="0.5"
                    style="background: var(--bg-darker); border: 1px solid var(--border-color); color: var(--text-primary);">
            </div>

            <hr class="border-secondary mb-4">

            <div class="row">
                <div class="col-6">
                    <button class="btn btn-outline-warning w-100" onclick="testConnection()"
                        style="border-color: #fcc419; color: #fcc419;">
                        <i class="fas fa-satellite-dish"></i> Test
                    </button>
                </div>
                <div class="col-6">
                    <button class="btn btn-primary w-100" onclick="saveSetting()"
                        style="background-color: var(--toggl-purple); border: none;">
                        <i class="fas fa-save"></i> Save
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="footer text-center pt-2 py-2">
        v. <span class="app-version">1.0.0</span><br />
        &copy; 2025 Sebastian Saller - Basl
    </div>


    <script src="js/neutralino.js"></script>
    <script src="js/main.js"></script>
    <script src="js/cache.js"></script>
    <script src="js/API.js"></script>
    <script src="js/setting.js"></script>
</body>

</html>